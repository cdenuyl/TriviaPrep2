- [ ] **Overall Goal:** Fix Trivia Quiz and implement free-text Category Search.

- [X] **Phase 1: Fix Trivia Quiz**
  - [X] **Backend (`src/main.py`):**
    - [X] Create new API endpoint `/api/get_trivia_categories` to fetch and return all categories from OpenTDB.
    - [X] Rename route `/geo_quiz/fetch_questions` to `/api/fetch_quiz_questions`.
    - [X] Modify `/api/fetch_quiz_questions` to accept `category` (ID) and `difficulty` parameters.
    - [X] Update `/api/fetch_quiz_questions` to use the new `category` parameter in the OpenTDB API call.
    - [X] Rename route `/geo_quiz/question` to `/api/get_quiz_question`.
    - [X] Ensure `/api/get_quiz_question` correctly serves questions from the batch fetched by `/api/fetch_quiz_questions`.
    - [X] Rename session keys from `current_geo_quiz_batch` and `seen_in_batch_geo_questions` to `current_quiz_batch` and `seen_in_batch_questions` respectively.
  - [X] **Frontend (`src/index.html`):**
    - [X] Verify/Add a category selection dropdown (e.g., `id="quiz-category"`) in the Trivia Quiz section.
    - [X] Write JavaScript to call `/api/get_trivia_categories` on page load (or when quiz section becomes visible).
    - [X] Populate the `quiz-category` dropdown with the fetched categories.
    - [X] Rename JavaScript function `fetchNewGeoBatch` to `fetchNewQuizBatch` (or similar).
    - [X] Update `fetchNewQuizBatch` to get selected category ID from `quiz-category` dropdown and difficulty from `quiz-difficulty`.
    - [X] Update `fetchNewQuizBatch` to call the new `/api/fetch_quiz_questions` endpoint with both category and difficulty.
    - [X] Rename JavaScript function `loadNextGeoQuestionFromBatch` to `loadNextQuizQuestionFromBatch` (or similar).
    - [X] Update `loadNextQuizQuestionFromBatch` to call the new `/api/get_quiz_question` endpoint.
    - [X] Update all relevant HTML element IDs and JavaScript references from `geo-` prefix to a more generic `quiz-` prefix (e.g., `geo-quiz-controls` to `quiz-controls`, `geo-difficulty` to `quiz-difficulty`, etc.).
  - [X] **Testing & Validation:**
    - [X] Mentally review the code changes to ensure logical correctness.
    - [X] Confirm that the quiz fetches questions for various category/difficulty combinations.
    - [X] Confirm error handling for API issues (no questions, rate limits) is still functional.

- [ ] **Phase 2: Implement Free-Text Category Search (Option C - Experimental Web Search)**
  - [ ] Research robust methods for general web scraping or identify suitable free search APIs for trivia.
  - [ ] Design the backend logic for `/search_category` to use the chosen web search method.
  - [ ] Implement the backend changes in `src/main.py`.
  - [ ] Ensure the frontend (`index.html`) correctly sends the free-text query and displays results.
  - [ ] Test with various queries.

- [ ] **Phase 3: Finalization**
  - [ ] Package all updated files into a new zip archive.
  - [ ] Provide the package to the user with deployment instructions.
  - [ ] Ask the user to test thoroughly.
