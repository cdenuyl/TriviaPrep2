- [X] **Overall Goal:** Fix Trivia Quiz and enhance content refresh functionality. Free-text Category Search shelved for now.

- [X] **Phase 1: Fix Trivia Quiz**
  - [X] **Backend (`src/main.py`):**
    - [X] Create new API endpoint `/api/get_trivia_categories` to fetch and return all categories from OpenTDB.
    - [X] Rename route `/geo_quiz/fetch_questions` to `/api/fetch_quiz_questions`.
    - [X] Modify `/api/fetch_quiz_questions` to accept `category` (ID) and `difficulty` parameters.
    - [X] Update `/api/fetch_quiz_questions` to use the new `category` parameter in the OpenTDB API call.
    - [X] Rename route `/geo_quiz/question` to `/api/get_quiz_question`.
    - [X] Ensure `/api/get_quiz_question` correctly serves questions from the batch fetched by `/api/fetch_quiz_questions`. Added `session.modified = True` to ensure session changes for quiz batch and seen questions are saved.
    - [X] Verify/Add a category selection dropdown (e.g., `id="quiz-category"`) in the Trivia Quiz section.
    - [X] Write JavaScript to call `/api/get_trivia_categories` on page load (or when quiz section becomes visible).
    - [X] Populate the `quiz-category` dropdown with the fetched categories.
    - [X] Rename JavaScript function `fetchNewGeoBatch` to `fetchNewQuizBatch` (or similar).
    - [X] Update `fetchNewQuizBatch` to get selected category ID from `quiz-category` dropdown and difficulty from `quiz-difficulty`.
    - [X] Update `fetchNewQuizBatch` to call the new `/api/fetch_quiz_questions` endpoint with both category and difficulty.
    - [X] Rename JavaScript function `loadNextGeoQuestionFromBatch` to `loadNextQuizQuestionFromBatch` (or similar).
    - [X] Update `loadNextQuizQuestionFromBatch` to call the new `/api/get_quiz_question` endpoint.
    - [X] Update all relevant HTML element IDs and JavaScript references from `geo-` prefix to a more generic `quiz-` prefix (e.g., `geo-quiz-controls` to `quiz-controls`, `geo-difficulty` to `quiz-difficulty`, etc.).
  - [X] **Testing & Validation:**
    - [X] Mentally review the code changes to ensure logical correctness.
    - [X] Confirm that the quiz fetches questions for various category/difficulty combinations (Note: "Any Category/Any Difficulty" still has issues, but specific selections work).
    - [X] Confirm error handling for API issues (no questions, rate limits) is still functional.

- [X] **Phase 2: Content Refresh Enhancements & Category Search Removal (as of May 14, 2025)**
  - [X] Refresh all content categories (Current Events, Movies, Music, TV Shows, Sports News) with data for May 14, 2025.
  - [X] Remove free-text category search feature from backend (`src/main.py`).
  - [X] Remove free-text category search feature from frontend (`src/index.html`).
  - [X] Validate that the "Update Trivia Data" button correctly processes and refreshes all content.
  - [X] Inform user about limitations of scheduled/automatic updates.

- [ ] **Phase 3: Finalization**
  - [ ] Package all updated files (including refreshed data and code changes) into a new zip archive.
  - [ ] Provide the package to the user with deployment instructions.
  - [ ] Ask the user to test the updated application, focusing on content display and the Trivia Quiz.
